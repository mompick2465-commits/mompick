-- region_code_mapping 테이블에 누락된 지역들 추가
-- 특히 남양주시와 기타 누락된 지역들

INSERT INTO region_code_mapping (hcode, sido_name, sgg_name, kindergarten_sido_code, kindergarten_sgg_code, childcare_arcode) VALUES

-- 경기도 누락 지역들
('4136000000', '경기도', '남양주시', 41, 41360, '41360'),
('4119200000', '경기도', '부천시 원미구', 41, 41192, '41192'),
('4119400000', '경기도', '부천시 소사구', 41, 41194, '41194'),
('4119600000', '경기도', '부천시 오정구', 41, 41196, '41196'),
('4128100000', '경기도', '고양시 덕양구', 41, 41281, '41281'),
('4128500000', '경기도', '고양시 일산동구', 41, 41285, '41285'),
('4128700000', '경기도', '고양시 일산서구', 41, 41287, '41287'),
('4127100000', '경기도', '안산시 상록구', 41, 41271, '41271'),
('4127300000', '경기도', '안산시 단원구', 41, 41273, '41273'),
('4131000000', '경기도', '구리시', 41, 41310, '41310'),
('4163000000', '경기도', '양주시', 41, 41630, '41630'),
('4167000000', '경기도', '여주시', 41, 41670, '41670'),

-- 인천광역시 누락 지역들
('2817700000', '인천광역시', '미추홀구', 28, 28177, '28177'),
('2818500000', '인천광역시', '연수구', 28, 28185, '28185'),
('2823700000', '인천광역시', '부평구', 28, 28237, '28237'),
('2871000000', '인천광역시', '강화군', 28, 28710, '28710'),

-- 대구광역시 누락 지역들
('2772000000', '대구광역시', '군위군', 27, 27720, '27720'),

-- 경상북도 누락 지역들
('4772000000', '경상북도', '군위군', 47, 47720, '47720'),

-- 경상남도 누락 지역들
('4812100000', '경상남도', '창원시 의창구', 48, 48121, '48121'),
('4812300000', '경상남도', '창원시 성산구', 48, 48123, '48123'),
('4812500000', '경상남도', '창원시 마산합포구', 48, 48125, '48125'),
('4812700000', '경상남도', '창원시 마산회원구', 48, 48127, '48127'),
('4812900000', '경상남도', '창원시 진해구', 48, 48129, '48129'),

-- 충청북도 누락 지역들 (시도코드 수정 필요)
('4311100000', '충청북도', '청주시 상당구', 43, 43111, '43111'),
('4311200000', '충청북도', '청주시 서원구', 43, 43112, '43112'),
('4311300000', '충청북도', '청주시 흥덕구', 43, 43113, '43113'),
('4311400000', '충청북도', '청주시 청원구', 43, 43114, '43114'),

-- 충청남도 누락 지역들
('4413100000', '충청남도', '천안시 동남구', 44, 44131, '44131'),
('4413300000', '충청남도', '천안시 서북구', 44, 44133, '44133'),

-- 전북특별자치도 누락 지역들 (시도코드 수정 필요)
('5211100000', '전북특별자치도', '전주시 완산구', 52, 52111, '52111'),
('5211300000', '전북특별자치도', '전주시 덕진구', 52, 52113, '52113'),

-- 강원특별자치도 누락 지역들 (시도코드 수정 필요)
('5111000000', '강원특별자치도', '춘천시', 51, 51110, '51110'),
('5113000000', '강원특별자치도', '원주시', 51, 51130, '51130'),
('5115000000', '강원특별자치도', '강릉시', 51, 51150, '51150'),
('5117000000', '강원특별자치도', '동해시', 51, 51170, '51170'),
('5119000000', '강원특별자치도', '태백시', 51, 51190, '51190'),
('5121000000', '강원특별자치도', '속초시', 51, 51210, '51210'),
('5123000000', '강원특별자치도', '삼척시', 51, 51230, '51230'),
('5172000000', '강원특별자치도', '홍천군', 51, 51720, '51720'),
('5173000000', '강원특별자치도', '횡성군', 51, 51730, '51730'),
('5175000000', '강원특별자치도', '영월군', 51, 51750, '51750'),
('5176000000', '강원특별자치도', '평창군', 51, 51760, '51760'),
('5177000000', '강원특별자치도', '정선군', 51, 51770, '51770'),
('5178000000', '강원특별자치도', '철원군', 51, 51780, '51780'),
('5179000000', '강원특별자치도', '화천군', 51, 51790, '51790'),
('5180000000', '강원특별자치도', '양구군', 51, 51800, '51800'),
('5181000000', '강원특별자치도', '인제군', 51, 51810, '51810'),
('5182000000', '강원특별자치도', '고성군', 51, 51820, '51820'),
('5183000000', '강원특별자치도', '양양군', 51, 51830, '51830'),

-- 전북특별자치도 누락 지역들 (시도코드 수정 필요)
('5211100000', '전북특별자치도', '전주시 완산구', 52, 52111, '52111'),
('5211300000', '전북특별자치도', '전주시 덕진구', 52, 52113, '52113'),
('5213000000', '전북특별자치도', '군산시', 52, 52130, '52130'),
('5214000000', '전북특별자치도', '익산시', 52, 52140, '52140'),
('5218000000', '전북특별자치도', '정읍시', 52, 52180, '52180'),
('5219000000', '전북특별자치도', '남원시', 52, 52190, '52190'),
('5221000000', '전북특별자치도', '김제시', 52, 52210, '52210'),
('5271000000', '전북특별자치도', '완주군', 52, 52710, '52710'),
('5272000000', '전북특별자치도', '진안군', 52, 52720, '52720'),
('5273000000', '전북특별자치도', '무주군', 52, 52730, '52730'),
('5274000000', '전북특별자치도', '장수군', 52, 52740, '52740'),
('5275000000', '전북특별자치도', '임실군', 52, 52750, '52750'),
('5277000000', '전북특별자치도', '순창군', 52, 52770, '52770'),
('5279000000', '전북특별자치도', '고창군', 52, 52790, '52790'),
('5280000000', '전북특별자치도', '부안군', 52, 52800, '52800')

ON CONFLICT (hcode) DO NOTHING;

-- 기존 잘못된 시도코드 업데이트
UPDATE region_code_mapping 
SET kindergarten_sido_code = 51 
WHERE sido_name = '강원특별자치도' AND kindergarten_sido_code = 42;

UPDATE region_code_mapping 
SET kindergarten_sido_code = 52 
WHERE sido_name = '전북특별자치도' AND kindergarten_sido_code = 45;

-- 업데이트 결과 확인
SELECT 
    sido_name,
    COUNT(*) as region_count,
    MIN(kindergarten_sido_code) as min_sido_code,
    MAX(kindergarten_sido_code) as max_sido_code
FROM region_code_mapping 
GROUP BY sido_name 
ORDER BY sido_name;
